import{_ as P}from"./nuxt-link.27dedad4.js";import{a as M,o as e,b as o,p as j,e as E,f as s,r,h as V,i as x,j as B,u as n,c as p,k as b,F as g,l as v,w as k,v as N,m as Y,t as i,q as D,s as O}from"./entry.4a58436a.js";import{g as W,G as F,N as T,S as G,E as H,L as J,F as S}from"./ScrollTop.9eb8704c.js";const U="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAgMAAACJFjxpAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJUExURbOzs////9ra2tYEXekAAATcSURBVHja7Z09bttAFIRFAizonkdgkVvwCCq8hOCKZZBT8BLs0wgIcsokCPLjxCbfSpz9LHnmAvth9s17K4paHQ6WZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWdbGWlL6iAOm7xhkGQAkSTfATID3RAOkjmIKfmmmAEQLofgGkiQaAktD/BkgnGoCpwybBFvwNgFjwDICwoE2wBc8BTjRAwgEmtgiJibA8B0hD4fXP/6xfugzb9J+KJrH+f/2yZdi/ADCyG1B2D5YXAU6wAQX34GUDyrWCh1fWL7YH/WsAiesBRVtB+zrACS3BUjlY2YEyOWjWAI7sDhTZg9UdKDEP2nUAfRC7dQB9ENfX1xdBtQEgL4JmC+DIloC+CLbWVxfBZgmoi6DZBtB2gn4bQFuFyzbAI1uD4nNZFQFQVmEbARjYGtRWYRcBOLEhkMagjqyvbMahEChj0MYAdDFoYgATm0JlDrsYwIlNoRIgtr6uEdRBgJEGSHAf0nWilgZoogADDTCxjfANABzZTqxrhTjAkuBejAOkmwEY7xQgPAxV49AAVRxgph2Y79OBWwIYDGAAAxjAAJ4FdsAHEgMYwAAGMIABDOBnRO/+MZ0dMIAB7hTgYAADvPsU9DRAgsdxmwFwgndAY8GSAzChGdDsQZUFMLI1KAlikwcwsyFQPKztaIAlD2C6P4B0YwBHO/DuHTDAcH8Ay40B7D+OuxsDgE/lijMhDpB3JhS8V5t3KsY/F+AAgvfra3gWZQ6DQQCwsI0wsxUqAHq2D+V1Isn7/fgzopptA3k5HCQACxuCrBzSj2pFP/Fo2RTmzEPRb81qdBZm5XAQAXRsCjNiIFo/PI5kP3yuyFGUEwPdr+/hFIbH0SwD6NkQRGMgvIWjZVMYzaHyJhY4BMEYDEKAjk1hMIfC9UMxkN5JVcEhCI0j7bVgcApDMRikAD0bgsg4Et/O17IpjMQAvyBRfUXkwoYgkMP5AMdAvP5mDPCLUvGrYvUXFi/kKArEYJAD9GwItmJQ4MroihxF2+MIv7V7KgDQsSHYmAYF1l+NAX53fZnb++EQrMZgKgLQc8ehrSos9D8iFdmI16vwWAhgYWtwpQrnQgAdW4Ovb8EjDVCqBg/kLF6dRqUMqOgSqOgQtPQWNHQR9m+2E5fqAx09jRf4PHKgT2Q1+7loFeCINsJiVdjCn8xWP5zOaBso1QsX+sMp/Iho4yEV/YCkRBF08LPqA/y0fvNxvbwTbH1zOZFdoEQQt7+4nNkdUO9B4P2BR9gA7R6E3uc7wQakcWYNeAN/Z8T/lQ3+FxaiIHyIv93/hG7AD31EN+CHPlMJkDWDzDs4dieoU0IJ6iVdoB3r4Jwu0heoAP/oU/EOJOlID+kK7VCKV62/A8FlAdiP4Or1ryU4p+s1wutfc0D5kPbRBK9/6RHpYbf1LyuDOu2oSzZh2RNgLDiBdjoltmlnzWABXNIMzrsD5FnQ7r9+1rcZtWD9rCD0CoCMXiAxIMeCswYgXIataP1wEnsVwIhWQLwMGx1AbA86HUDsGx3h+iNcAsHnyAmugZoGsAN2wA7YATtgB+yAHbADdsAO2AE7YAfsgB2wA3bADtgBO2AH7IAdsAO4A5ZlWZZlWZZlWZZlWZZlWZZlWZZlWZZlWZZlWdZ70zfEOlBzdVBO/QAAAABJRU5ErkJggg==";const L={},K=a=>(j("data-v-6239311f"),a=a(),E(),a),X={class:"notification is-primary"},q=K(()=>s("p",null,"Sucess,your comment is sent to review",-1)),$=[q];function ss(a,l){return e(),o("div",X,$)}const ts=M(L,[["render",ss],["__scopeId","data-v-6239311f"]]);const m=a=>(j("data-v-8a6d88c0"),a=a(),E(),a),es={key:2,class:"all"},os={class:"section is-medium"},ns={class:"cover"},as=["src"],ls={class:"content subtitle"},cs={class:"author box"},is={class:"image is-48x48"},rs=["src"],us={class:"info"},ds=m(()=>s("br",null,null,-1)),As=["innerHTML"],ms={class:"desni"},hs={class:"field"},_s={class:"control"},gs={class:"linkovi"},ps=m(()=>s("h1",null,"Related posts:",-1)),vs={class:"kartice"},Is={class:"related karta"},Zs=["src"],ws={class:"info2"},Bs={class:"tag tag-teal"},bs=m(()=>s("div",{class:"commentHeading"},[s("h3",null,"Comments")],-1)),Ds={class:"comments box"},Ws={class:"comment"},ys={class:"media"},fs=m(()=>s("figure",{class:"media-left"},[s("p",{class:"image is-64x64 is-round"},[s("img",{src:U})])],-1)),Cs={class:"media-content"},xs={class:"content"},ks=m(()=>s("br",null,null,-1)),Ns={class:"addComment card"},Ys=m(()=>s("h2",null,"Add comment",-1)),Fs="eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImdjbXMtbWFpbi1wcm9kdWN0aW9uIn0.eyJ2ZXJzaW9uIjozLCJpYXQiOjE2ODQzNDY0MTMsImF1ZCI6WyJodHRwczovL2FwaS1ldS1jZW50cmFsLTEtc2hhcmVkLWV1YzEtMDIuaHlncmFwaC5jb20vdjIvY2xobWg1OTlqNTFwZTAxdW4xN2lzYTZscy9tYXN0ZXIiLCJtYW5hZ2VtZW50LW5leHQuZ3JhcGhjbXMuY29tIl0sImlzcyI6Imh0dHBzOi8vbWFuYWdlbWVudC5ncmFwaGNtcy5jb20vIiwic3ViIjoiMzhlZjNhYTMtNzczZi00MzFmLTg2NGItZjRiNDZjOWNjNGFkIiwianRpIjoiY2xoczBkNmN2MWliMzAxdW84c2N2N3RmYSJ9.zYZ-SpDQAFzZ-8Oy8xBH_HuZJSNdagEcbVMD9INPKxkzh9XZgA150aUbX3t4qUKXbxtzrDhZFNB12YYZUyoJd1VbXMbPn1t0tIO7qlfaTz6Iqwdce6gnI7uKuBHNnWbqlnZKAvfho2nEKn-6Rnw_y-Zt9pC_EJXknSs6_vru5F-MnaSFEOrI41gf-4nUN9bq6ySM9dI8oN_I3cXxsmTC1aOljOFxKidDF_4xsw8GvxdoA9MiNiTZAFZjGwVr5rqaHG8p9sRwPhNjyRmN4KDZc26f3ZLGBm3LjSrAukhvlksH6Dnz2JCKy8oLBhsaC4qw4KVwgueWHnx16yQTuH1no6pEoNF7P0QWa59hcqwWzawaPC93U9bZBZSw4Q0M2xTApJOfYoYWXNmPM1Uq37hkvqu25_yKT5jhhZCGyAa7YBvuXBIrw0Zo-jJaQgdhYv7shKv6FsGj1rmeIpklGHaOJi_GcdrH4wH0SiTUbi7hwRlhNOIrdYZWkbj5s4IV7_gjOLyDCXlKWNiBxUJ7Sfr2OzmAAJ7GKu5z6mnBmfTJYFr_FCxnx_0WNvvGb0Qz9-1bwDz6WPDrz2oJZYDtptFK6ptzKE3_twIYwMRAGnsGuduSRIPhuZfV2Md5NLICHJZTPcTjTwxesVyi9DGKJfbR-am-Bf81kTWvsHKBRYL6uXI",Ms={__name:"[slug]",setup(a){const l=r({}),y=r([]),I=r(!1),u=r(""),d=r(""),Z=r(!1),w=r(!1);V(async()=>{const h=new F("https://api-eu-central-1-shared-euc1-02.hygraph.com/v2/clhmh599j51pe01un17isa6ls/master"),c=W`
query GetPostsBySlug($slug:String!){
    post(where:{slug:$slug}){
        title,
        subtitle,
        category,
        comments{
            username,
            content
        },
        coverPhoto{
            url
        },
        content{
            html
        },
        datePublished,
        author{
            name,
            avatar{
                url
            }
        }
        
        
    }
}

`,{slug:_}=x().params,t={slug:_},A=await h.request(c,t);l.value=A,console.log(l.value.post.category);const Q={cat:l.value.post.category},R=W`
    query GetPostsBySlug($cat:String!){
    posts(where:{category:$cat}){
        title,
        author{
            name
        },
        subtitle,
        datePublished,
        category,
        slug,
        coverPhoto{
            url
        }
    }
}`,C=await h.request(R,Q);console.log(C),y.value=C,console.log(l.value),I.value=!0});const z=()=>{if(u.value!=""&&d.value!=""){const h=W`
    mutation MyMutation($content:String!,$username:String!,$slug:String!) {
  createComment(data: {content:$content,username:$username,post:{connect:{slug:$slug}}}) {
    id
  }
}
    `,{slug:c}=x().params,_={content:u.value,username:d.value,slug:c},t={Authorization:`Bearer ${Fs}`},f=new F("https://api-eu-central-1-shared-euc1-02.hygraph.com/v2/clhmh599j51pe01un17isa6ls/master").request(h,_,t);console.log(f),Z.value=!0,setTimeout(()=>{u.value="",d.value=""},3500),setTimeout(()=>{Z.value=!1},3500)}else w.value=!0,setTimeout(()=>{w.value=!1},3500)};return(h,c)=>{const _=P;return e(),o(g,null,[B(T),B(G),n(Z)?(e(),p(ts,{key:0})):b("",!0),n(w)?(e(),p(H,{key:1})):b("",!0),n(I)?(e(),o("section",es,[(e(!0),o(g,null,v(n(l),t=>(e(),o("section",os,[s("div",ns,[s("img",{src:t.coverPhoto.url,alt:""},null,8,as)]),s("div",ls,[s("h1",null,i(t.subtitle),1)]),(e(!0),o(g,null,v(n(l),A=>(e(),o("div",cs,[s("figure",is,[s("img",{class:"is-rounded",src:A.author.avatar.url},null,8,rs)]),s("p",us,[D("-"+i(A.author.name),1),ds,s("span",null,"Published:"+i(A.datePublished),1)])]))),256)),s("div",{class:"content card",innerHTML:t.content.html},null,8,As)]))),256)),s("div",ms,[s("div",hs,[s("div",_s,[s("div",gs,[ps,s("div",vs,[(e(!0),o(g,null,v(n(y).posts,t=>(e(),o("div",Is,[s("img",{src:t.coverPhoto.url},null,8,Zs),s("div",ws,[s("span",Bs,i(t.category),1),s("h4",null,i(t.title),1),s("p",null,i(t.datePublished),1),B(_,{to:`/${t.slug}`,class:"button is-primary is-small"},{default:O(()=>[D("Read more")]),_:2},1032,["to"])])]))),256))])])])]),bs,s("div",Ds,[(e(!0),o(g,null,v(n(l).post.comments,t=>(e(),o("div",Ws,[s("article",ys,[fs,s("div",Cs,[s("div",xs,[s("p",null,[s("strong",null,"@"+i(t.username),1),ks,D(" "+i(t.content),1)])])])])]))),256))]),s("div",Ns,[Ys,k(s("input",{type:"text",class:"input is-primary is-rounded",placeholder:"Username","onUpdate:modelValue":c[0]||(c[0]=t=>Y(d)?d.value=t:null)},null,512),[[N,n(d)]]),k(s("textarea",{class:"input is-primary is-rounded",placeholder:"Comment","onUpdate:modelValue":c[1]||(c[1]=t=>Y(u)?u.value=t:null)},null,512),[[N,n(u)]]),s("button",{class:"button is-primary is-rounded",onClick:z},"Post")])])])):(e(),p(J,{key:3})),n(I)?(e(),p(S,{key:4})):b("",!0)],64)}}},Qs=M(Ms,[["__scopeId","data-v-8a6d88c0"]]);export{Qs as default};
